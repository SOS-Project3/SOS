<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Smart Oven & Skewer (S.O.S)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <h1>S.O.S - Smart Oven & Skewer</h1>
    <p>Status: <span id="status">Loading...</span></p>

    <script type="module">
      // Firebase setup
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
      import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCXDxynz9AKrexXIUmvza8xnPA2HriiePQ",
        authDomain: "sos-project-23171.firebaseapp.com",
        databaseURL: "https://sos-project-23171-default-rtdb.firebaseio.com",
        projectId: "sos-project-23171",
        storageBucket: "sos-project-23171.firebasestorage.app",
        messagingSenderId: "739080997565",
        appId: "1:739080997565:web:8794ee9ba4f4f27de4c5d4",
        measurementId: "G-WXLYFGBX7M"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      // Reference a value (example path)
      const statusRef = ref(db, "device/status");

      // Realtime listener
      onValue(statusRef, (snapshot) => {
        const data = snapshot.val();
        document.getElementById("status").textContent = data;
      });

      // OPTIONAL: Write value to Firebase (e.g., status = "ON")
      // set(statusRef, "ON");
    </script>
  </body>
</html>
